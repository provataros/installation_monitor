<head>
  <title>Installation_Status</title>
  <link href='https://fonts.googleapis.com/css?family=Roboto&subset=latin,greek' rel='stylesheet' type='text/css'>
</head>

<body>
  
  {{#with modal}}
    {{> confirm}}
  {{/with}}
  {{#with alert}}
    {{> alert}}
  {{/with}}
  {{#if currentUser}}
    <div id = "side_panel">
      {{> side_panel}}
    </div>
    <div id="content">
      {{> dynamic_view}}
    </div>
  {{else}}
    {{#if isRegister}}
      {{> register}}
    {{else}}
      {{> login}}
    {{/if}}
  {{/if}}
  {{> notification}}
</body>


<template name = "dynamic_view">
  {{debug selected_view}}
  {{> Template.dynamic template = selected_view }}
</template>

<template name="login">
  <div class = "midcenter">
    <h2>Login</h2>
    <p>Username: <input type="text" id="username" name="username"></p>
    <p>Password: <input type="password" id="password" name="password"></p>
    <a href="#" class = "b1" id="register">Register</a>
    <button class = "b2" autofocus id="login">Login</button>
  </div>
</template>

<template name="register">
  <div class = "midcenter">
    <h2>Register</h2>
    <p>Username: <input type="text" id="username"></p>
    <p>Password: <input type="password" id="password"></p>
    <button class = "b1" id = "cancel">Cancel</button>
    <button class = "b2" autofocus id="register">Register</button>
  </div>
</template>


<template name = "side_panel">
    <ul id = "context-menu" class = "menu-buttons">
      {{> Template.dynamic template = context_menu }}
    </ul>
    <ul id = "app-menu" class = "menu-buttons">
      <li id = "search">Search</li>
      <li id = "tasks">Tasks</li>
      <li id = "map">Map</li>
      <li id = "settings">Settings</li>
      <li id = "logout">Logout ({{currentUser.username}})</li>
    </ul>
</template>


<template name = "controls">
  <div class = "control_bar"></div>
</template>


<template name = "dropdown">
  <label>{{field_label name}}:</label>
  <select class = "device-input {{lower value}}" id = "edit_{{name}}" value="{{value}}">
    {{#each field_options name}}
      <option class = "{{lower this}}" {{selected_option this ../value}}> {{this}} </option>
    {{/each}}
  </select>
  {{#if isSamTracking}}
    <i class="fa fa-camera"></i>
  {{/if}}
</template>

<template name = "text">
  <label>{{field_label name}}:</label> <input class = "device-input" type = "text" id = "edit_{{name}}" value = "{{value}}">
</template>

<template name = "date">
  <label>{{field_label name}}:</label>
  <input type="hidden" id = "edit_{{name}}" class = "device-input" value="{{value}}"/>
  <input readonly class="datepicker" id = "date_{{name}}" type="text"/>
  <i class="fa fa-times"></i>
</template>

<template name = "checkbox">
  <label>{{field_label name}}:</label>
  <input type="checkbox" id = "edit_{{name}}" class = "device-input" {{isChecked}}/>
</template>

<template name = "notification"> 
  {{#with notification}}
    <div class = "notification type-{{type}}"><div>{{message}}</div></div>
  {{/with}}
</template>